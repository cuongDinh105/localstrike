# Example environment variables for LocalStrike agent

# LLM Configuration
# Base URL for the local LLM (e.g., Ollama's OpenAI-compatible API)
LLM_BASE_URL="http://localhost:11434/v1"
# The model name to use (e.g., "llama3", "codellama")
LLM_MODEL_NAME="llama3" 
# LLM API call timeout in seconds
LLM_TIMEOUT_SECONDS=300

# HexStrike Mission Control Platform (MCP) Configuration
# Base URL for the MCP
MCP_BASE_URL="http://127.0.0.1:8888"
# MCP API call timeout in seconds
MCP_TIMEOUT_SECONDS=120

# Agent Configuration
# Delay between agent loop iterations in seconds
AGENT_LOOP_DELAY_SECONDS=5
# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL="INFO"
# Enable debug mode for more verbose logging and error re-raising
DEBUG_MODE="False"

# State & Memory Settings
# Maximum number of iterations the agent will run before a hard stop
MAX_AGENT_ITERATIONS=100
# Maximum total runtime in seconds for the agent before a hard stop (1 hour = 3600)
MAX_AGENT_RUNTIME_SECONDS=3600

# Repetition detection (for loop control)
# How many recent actions to track for repetition detection
REPETITION_HISTORY_LENGTH=5
# Minimum length of a sequence to detect as repeating
REPETITION_MIN_SEQUENCE_LENGTH=2
# no_progress_count penalty for detecting a repeated action sequence
REPETITION_SEQUENCE_PENALTY=3

# Failure handling
# How many times a tool can fail on a specific target before that target is blocked for the tool
TOOL_FAILURE_THRESHOLD=3
# no_progress_count penalty for a single failed action
FAILURE_PENALTY=1

# No Progress Detection (for loop control)
# Soft signal to LLM when no progress for this many iterations
NO_PROGRESS_THRESHOLD=5
# Hard stop if no progress for this many iterations
MAX_NO_PROGRESS_COUNT=15

# Human-in-the-Loop (HITL) Settings
# If no progress for this many iterations, human approval is required for next action
NO_PROGRESS_THRESHOLD_FOR_APPROVAL=3

# Scope Enforcement Engine Settings
DEFAULT_SCOPE_MAX_DEPTH=3

# LLM Context Summarization (for controlling LLM input size)
# Number of example open ports to show LLM in summary
LLM_EXAMPLE_PORTS_COUNT=3
# Number of example services to show LLM in summary
LLM_EXAMPLE_SERVICES_COUNT=3
# Number of example technologies to show LLM in summary
LLM_EXAMPLE_TECH_COUNT=3
# Number of example assets to show LLM in summary
LLM_EXAMPLE_ASSETS_COUNT=5
# Number of recent actions to show LLM in summary
LLM_RECENT_ACTIONS_COUNT=5
# Number of recent high-severity findings to show LLM in summary
LLM_RECENT_FINDINGS_COUNT=3
# For LLM summary: show tools that failed >= this count
LLM_FAILED_ACTION_THRESHOLD=1
# Number of recent risk signals to show LLM in summary
LLM_RECENT_RISK_SIGNALS_COUNT=3